{"version":3,"sources":["Component/Filter.js","Component/PersonForm.js","Component/Person.js","Component/Persons.js","Services/personService.js","Component/Notification.js","App.js","index.js"],"names":["filteredPersons","persons","searchName","filter","person","name","includes","Filter","handleSearchNameChange","onChange","value","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Person","deletePerson","number","onClick","Persons","map","key","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","messageType","console","log","style","color","fontStyle","fontSize","App","useState","setPersons","setNewName","setNewNumber","setSearchName","notification","setNotification","useEffect","personService","initialResponse","updatePerson","existingPersonId","newPersonObject","returnedPerson","setTimeout","catch","Error","p","event","target","preventDefault","existingPerson","length","window","confirm","concat","newPersonArray","indexOfDeletedPerson","findIndex","personToBeDeleted","splice","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4cc54ec9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst filteredPersons = (persons, searchName) => {\r\n    persons.filter(person => person.name.includes(searchName))\r\n}\r\n\r\n\r\nconst Filter = ({persons, searchName, handleSearchNameChange}) => {\r\n    return (\r\n    <div>\r\n    <form onChange={filteredPersons(persons, searchName)}>\r\n      <input value={searchName}\r\n             onChange={handleSearchNameChange} />\r\n    </form>\r\n  </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, newNumber, handleNameChange, handleNumberChange}) => {\r\n    return(\r\n        <form onSubmit={addPerson}>\r\n        <div>\r\n          name:\r\n            <input value={newName}\r\n            onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          number:\r\n            <input value={newNumber}\r\n            onChange={handleNumberChange} />\r\n        </div>\r\n        <button type=\"submit\">add</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({person, deletePerson}) => {\r\n    return(\r\n        <div>\r\n                {person.name} {person.number} \r\n                <button type=\"submit\" value={person.name} onClick={deletePerson}>delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({filteredPersons, deletePerson}) => {\r\n    return(\r\n      filteredPersons.map(person =>\r\n      <Person\r\n        key={person.name}\r\n        person={person}\r\n        deletePerson={deletePerson} />\r\n      )\r\n    )\r\n  }\r\n\r\n  export default Persons","import React from 'react'\r\nimport axios from 'axios';\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request =  axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    deletePerson\r\n}\r\n","import React from 'react'\r\n\r\nconst Notification = ({message, messageType}) => {\r\n    const notification = {\r\n        color: 'green',\r\n        fontStyle: 'italic',\r\n        fontSize: 25\r\n    }\r\n\r\n    const warning = {\r\n        color: 'red',\r\n        fontStyle: 'italic',\r\n        fontSize: 25\r\n    }\r\n    \r\n    if(message === null || messageType === null) {\r\n        console.log(message, messageType)\r\n        return null\r\n    }\r\n\r\n\r\n    if(messageType === 'WARNING') {\r\n        console.log('Warning style.')\r\n        return(<div style={warning}>\r\n            {message}\r\n        </div>\r\n        )\r\n    }\r\n\r\n    return(\r\n        <div style={notification}>\r\n            {message}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './Component/Filter'\nimport PersonForm from './Component/PersonForm'\nimport Persons from './Component/Persons'\nimport personService from './Services/personService'\nimport Notification from './Component/Notification'\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([])\n\n  const [ newName, setNewName ] = useState('')\n\n  const [ newNumber, setNewNumber] = useState('')\n\n  const [ searchName, setSearchName] = useState('')\n\n  const [ notification, setNotification] = useState({message: '', messageType: ''})\n\n  const filteredPersons = persons.filter(person => person.name.includes(searchName))\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialResponse => {\n        setPersons(initialResponse)\n      })\n  }, [])\n\n\n const handleNameChange = (event) => {\n    setNewName(event.target.value)\n }\n\n const handleSearchNameChange = (event) => {\n  setSearchName(event.target.value)\n}\n\n const handleNumberChange = (event) => {\n   setNewNumber(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()  \n  \n    const existingPerson = persons.filter(person => person.name === newName)\n\n    const newPersonObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    // Filter check if the person already exists, if so ask the user if she wishes to replace the number or not.\n    // No validation whether the number is the same as before or if it has been changed, but this could easily be added.\n\n    if(existingPerson.length > 0) {\n      if(window.confirm((`${newName} is already added to the phonebook, replace the old number with a new one ?`))) {\n        return updatePerson(existingPerson[0].id,  newPersonObject)\n      }\n        return \n    }\n\n     personService\n      .create(newPersonObject)\n        .then(returnedPerson => {\n            setPersons(persons.concat(returnedPerson))\n            setNotification({\n              message:`'${newPersonObject.name}' was added to the phonebook`,\n              messageType: 'NOTIFICATION'}\n            )\n            setTimeout(() => {\n              setNotification({message: '', messageType:''})\n            }, 5000)      \n          })\n  }\n\n  // Updates the person object if it already exist, compares the id of the persons array with the id from the person who already exists\n\n  const updatePerson = (existingPersonId, newPersonObject) => {\n    personService\n    .update(existingPersonId, newPersonObject)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== existingPersonId ? person : returnedPerson))\n      setNotification({\n         message:`${newPersonObject.name}' was added to the phonebook`,\n         messageType: 'NOTIFICIATION'\n        }\n      )\n      setTimeout(() => {\n        setNotification({ message: '', messageType: \"\"})\n      }, 5000)    \n    }).catch(Error => {\n      setNotification({\n        message:  `Information about ${newPersonObject.name}' was already deleted from the server`,\n        messageType: 'WARNING'\n        }\n      )\n      setTimeout(() => {\n        setNotification({ message: '', messageType: \"\" })\n      }, 5000)\n      setPersons(persons.filter(p => p.id !== existingPersonId))\n    }) \n  }\n\n  const deletePerson = (event) => {\n    if(window.confirm('Would you like to delete this person ? ')) {\n      event.preventDefault()\n      const newPersonArray = [...persons]\n      const indexOfDeletedPerson = persons.findIndex(p => p.name === event.target.value)\n      const personToBeDeleted = persons[indexOfDeletedPerson]\n      newPersonArray.splice(indexOfDeletedPerson, 1)\n\n      personService\n        .deletePerson(personToBeDeleted.id)\n          .then(returnedPerson => {\n            setPersons(newPersonArray)\n          setNotification({\n              message:`'${personToBeDeleted.name}' was removed from the phonebook`,\n              messageType: 'NOTIFICATION'}\n            )\n          })\n    }\n  }\n \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification.message} messageType={notification.messageType} />\n      <Filter persons={persons} searchName={searchName} handleSearchNameChange={handleSearchNameChange} />\n      <h2>Add a new</h2>\n      <PersonForm addPerson={addPerson} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <div>\n       <Persons filteredPersons={filteredPersons} deletePerson={deletePerson}/>\n      </div>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'  // highlight-line\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}